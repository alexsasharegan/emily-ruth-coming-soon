{"version":3,"sources":["../../js/main.js"],"names":["Countdown","t","digits","pad","i","slice","endDate","elSelector","DEFAULTS","selector","countdownDate","Date","getTime","element","document","querySelector","intervalId","countdown","bind","interval","SECOND","runAtStart","window","setInterval","clearInterval","total","render","stop","renderComplete","now","d","Math","floor","DAY","h","HOUR","m","MINUTE","s","ms","f","leftPadZero","times","innerHTML","join","doneText","datetime","setDate","getDate","start"],"mappings":"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","file":"main.js","sourcesContent":["(function() {\n    'use strict';\n\n    class Countdown {\n        static leftPadZero(t, digits = 2) {\n            let pad = ''\n            for (let i = digits - 1; i > 0; i--) pad += '0'\n\n            return `${pad}${t}`.slice(-digits)\n        }\n\n        constructor(endDate, elSelector = Countdown.DEFAULTS.selector) {\n            this.countdownDate = endDate instanceof Date\n                ? endDate.getTime()\n                : new Date(endDate).getTime()\n\n            this.element = document.querySelector(elSelector)\n            this.intervalId = null\n            this.countdown = this.countdown.bind(this)\n        }\n\n        start(interval = Countdown.SECOND, runAtStart = true) {\n            if (runAtStart) this.countdown()\n            this.intervalId = window.setInterval(this.countdown, interval)\n\n            return this\n        }\n\n        stop() {\n            if (this.intervalId !== null) {\n                window.clearInterval(this.intervalId)\n            }\n\n            return this;\n        }\n\n        countdown() {\n            const t = this.getTime()\n\n            if (t.total > 0) {\n                this.render(t)\n            } else {\n                this.stop().renderComplete()\n            }\n\n            return this\n        }\n\n        getTime() {\n            // Get today's date and time\n            const now = new Date().getTime()\n\n            // Find the distance between now an the count down date in ms\n            const total = this.countdownDate - now\n\n            const d = Math.floor(total / Countdown.DAY)\n            const h = Math.floor((total % Countdown.DAY) / Countdown.HOUR)\n            const m = Math.floor((total % Countdown.HOUR) / Countdown.MINUTE)\n            const s = Math.floor((total % Countdown.MINUTE) / Countdown.SECOND)\n            const ms = Math.floor(total % Countdown.SECOND)\n\n            return { d, h, m, s, ms, total }\n        }\n\n        render(t) {\n            // format fn\n            const f = Countdown.leftPadZero;\n            const times = [`${t.d}d`, `${f( t.h )}h`, `${f( t.m )}m`, `${f( t.s )}s`]\n\n            this.element.innerHTML = times.join(`&nbsp;&nbsp;`)\n\n            return this\n        }\n\n        renderComplete() {\n            this.element.innerHTML = Countdown.DEFAULTS.doneText\n\n            return this\n        }\n\n        static get SECOND() {\n            return 1000\n        }\n\n        static get MINUTE() {\n            return 60 * Countdown.SECOND\n        }\n\n        static get HOUR() {\n            return 60 * Countdown.MINUTE\n        }\n\n        static get DAY() {\n            return 24 * Countdown.HOUR\n        }\n\n        static get DEFAULTS() {\n            return {\n                selector: '#countdown-display',\n                doneText: \"EXPIRED\",\n            }\n        }\n    }\n\n    const countdownDate = \"May 16, 2017 12:00:00 GMT-0700\";\n    let datetime = new Date(countdownDate)\n\n    if (Date.now() > datetime.getTime()) {\n        datetime.setDate(datetime.getDate() + 1)\n    }\n\n    window.countdown = new Countdown(datetime);\n\n    countdown.start();\n}());\n"]}